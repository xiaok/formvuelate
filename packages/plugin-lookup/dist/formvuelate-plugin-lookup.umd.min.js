!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("vue"),require("formvuelate")):"function"==typeof define&&define.amd?define(["exports","vue","formvuelate"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).FormvuelatePluginLookup={},e.Vue,e.formvuelate)}(this,(function(e,n,r){"use strict";function t(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function o(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(n){c(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var i,p=function(e,r){var t=n.unref(e);return f(t,(function(e){return r&&e.component&&("SchemaForm"===e.component||"SchemaForm"===e.component.name)&&(e.component=r),e}))};var f=function(e,n){return e.map((function(e){return e.map((function(e){return n(e)}))}))},a=function(e,n){return f(e,(function e(r){var t=n[r.component];if(r.schema){var u=Array.isArray(r.schema)?r.schema:Object.keys(r.schema).map((function(e){return o({model:e},r.schema[e])}));return o(o({},r),{},{component:n[r.component]||r.component,schema:u.map(e)})}return t?o(o({},r),{},{component:n[r.component]}):o({},r)}))},m=function(e,n){var r,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n||!["object","function"].includes(u(n)))return e;if("function"==typeof n)return s(e,n,t);var o=function(o){r=f(e,(function(e){return l(e,o,n[o],t)}))};for(var c in n)o(c);return r},s=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=function(e,n){var t=n(e);for(var o in t)e=l(e,o,t[o],r);return e};return f(e,(function(e){return t(e,n)}))},l=function(e,n,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=t.preserveMappedProps,c=void 0!==u&&u,i=r;if("function"==typeof r&&!(i=r(e)))return e;if(!(n in e))return process.env&&"production"!==process.env.NODE_ENV&&console.warn('LookupPlugin: property "'.concat(n,'" not found in'),e),e;var p=e[n],f=o({},e);return!1!==i&&c||delete f[n],!1===i||(f[i]=p),f};e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.mapComponents,t=void 0===r?{}:r,u=e.mapProps,c=void 0===u?null:u,f=e.preserveMappedProps,s=void 0!==f&&f;return function(e){var r=e.parsedSchema,u=n.computed((function(){var e=m(r.value,c,{preserveMappedProps:s}),n=a(e,t);return i?p(n,i):n}));return o(o({},e),{},{parsedSchema:u})}},e.lookupSubSchemas=function(e){n.provide(r.constants.LOOKUP_PARSE_SUB_SCHEMA_FORMS,{SchemaFormWithPlugins:e,remapSubSchemaForms:p}),i=e},e.mapElementsInSchema=f,Object.defineProperty(e,"__esModule",{value:!0})}));